/***************************************************************************
** This file is part of the generic algorithm library Wiselib.           **
** Copyright (C) 2008,2009 by the Wisebed (www.wisebed.eu) project.      **
**                                                                       **
** The Wiselib is free software: you can redistribute it and/or modify   **
** it under the terms of the GNU Lesser General Public License as        **
** published by the Free Software Foundation, either version 3 of the    **
** License, or (at your option) any later version.                       **
**                                                                       **
** The Wiselib is distributed in the hope that it will be useful,        **
** but WITHOUT ANY WARRANTY; without even the implied warranty of        **
** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         **
** GNU Lesser General Public License for more details.                   **
**                                                                       **
** You should have received a copy of the GNU Lesser General Public      **
** License along with the Wiselib.                                       **
** If not, see <http://www.gnu.org/licenses/>.                           **
***************************************************************************/
#ifndef __PLTT_TRACKING_METRICS_H__
#define __PLTT_TRACKING_METRICS_H__
namespace wiselib
{
	template <	typename node_id_t_P,
				typename Integer_P>
	class PLTT_TrackAgentMetric_Type
	{
	public:
		typedef Integer_P Integer;
		typedef node_id_t_P node_id_t;
		PLTT_TrackAgentMetric_Type(){}
		PLTT_TrackAgentMetric_Type( node_id_t _tracker_id, node_id_t _target_id )
		{
			report_messages_send = 0;
			query_messages_send = 0;
			report_messages_bytes_send = 0;
			query_messages_bytes_send = 0;
			report_messages_received = 0;
			query_messages_received = 0;
			report_messages_bytes_received = 0;
			query_messages_bytes_received = 0;
			tracker_id = _tracker_id;
			target_id = _target_id;
			tracker_id = _tracker_id;
			target_id = _target_id;
		}
<<<<<<< .mine
		~PLTT_TrackAgentMetric_Type(){}
		void inc_report_messages_send() { ++report_messages_send; }
=======
		~PLTT_TrackAgentMetric_Type( void ){}
		void inc_report_messages_send( void ) { ++report_messages_send; }
>>>>>>> .r3810
		void inc_report_messages_bytes_send( Integer _bytes_num ) { report_messages_bytes_send = report_messages_bytes_send + _bytes_num; }
		void inc_query_messages_send( void ) { ++query_messages_send; }
		void inc_query_messages_bytes_send( Integer _bytes_num ) { query_messages_bytes_send = query_messages_bytes_send + _bytes_num; }
<<<<<<< .mine
		Integer get_messages_send() { return report_messages_send + query_messages_send; }
		Integer get_messages_bytes_send() { return query_messages_bytes_send + report_messages_bytes_send; }
		Integer get_report_messages_send() { return report_messages_send; }
		Integer get_report_messages_bytes_send() { return report_messages_bytes_send; }
		Integer get_query_messages_send() { return query_messages_send; }
=======
		void inc_report_messages_received( void ) { ++report_messages_received; }
		void inc_report_messages_bytes_received( Integer _bytes_num ) { report_messages_bytes_received = report_messages_bytes_received + _bytes_num; }
		void inc_query_messages_received( void ) { ++query_messages_received; }
		void inc_query_messages_bytes_received( Integer _bytes_num ) { query_messages_bytes_received = query_messages_bytes_received + _bytes_num; }
		Integer get_messages_send( void ) { return report_messages_send + query_messages_send; }
		Integer get_messages_bytes_send( void ) { return query_messages_bytes_send + report_messages_bytes_send; }
		Integer get_messages_received( void ) { return report_messages_received + query_messages_received; }
		Integer get_messages_bytes_received( void ) { return report_messages_bytes_received + query_messages_bytes_received; }
		Integer get_report_messages_send( void ) { return report_messages_send; }
		Integer get_report_messages_bytes_send( void ) { return report_messages_bytes_send; }
		Integer get_query_messages_send( void ) { return query_messages_send; }
>>>>>>> .r3810
		Integer get_query_messages_bytes_send( void ) { return query_messages_bytes_send; }
<<<<<<< .mine
		node_id_t get_tracker_id() { return tracker_id; }
		node_id_t get_target_id() { return target_id; }
=======
		Integer get_query_messages_received( void ) { return query_messages_received; }
		Integer get_query_messages_bytes_received( void ) { return query_messages_bytes_received; }
		Integer get_report_messages_received( void ) { return report_messages_received; }
		Integer get_report_messages_bytes_received( void ) { return report_messages_bytes_received; }
		node_id_t get_tracker_id( void ) { return tracker_id; }
		node_id_t get_target_id( void ) { return target_id; }
>>>>>>> .r3810
	private:
		node_id_t tracker_id;
		node_id_t target_id;
		Integer report_messages_send;
		Integer report_messages_bytes_send;
		Integer query_messages_send;
		Integer query_messages_bytes_send;
		Integer query_messages_received;
		Integer query_messages_bytes_received;
		Integer report_messages_received;
		Integer report_messages_bytes_received;
	};
<<<<<<< .mine
	//----------------------------------------------------------------------------------------------------
	template <	typename PLTT_TrackAgentMetric_P,
				typename PLTT_TrackAgentMetricList_P>
	class PLTT_TrackAgentMetrics_Type
=======
	//----------------------------------------------------------------------------------------------------
	template <	typename PLTT_TrackAgentMetric_P,
				typename PLTT_TrackMetricList_P>
	class PLTT_TrackMetrics_Type
>>>>>>> .r3810
	{
	public:
<<<<<<< .mine
		typedef PLTT_TrackAgentMetric_P PLTT_TrackAgentMetric;
		typedef typename PLTT_TrackAgentMetric::Integer Integer;
		typedef typename PLTT_TrackAgentMetric::node_id_t node_id_t;
		typedef PLTT_TrackAgentMetricList_P PLTT_TrackAgentMetricList;
		typedef typename PLTT_TrackAgentMetricList::iterator PLTT_TrackAgentMetricListIterator;
		PLTT_TrackAgentMetrics_Type()
=======
		typedef PLTT_TrackAgentMetric_P PLTT_TrackAgentMetric;
		typedef typename PLTT_TrackAgentMetric::Integer Integer;
		typedef typename PLTT_TrackAgentMetric::node_id_t node_id_t;
		typedef PLTT_TrackMetricList_P PLTT_TrackMetricList;
		typedef typename PLTT_TrackMetricList::iterator PLTT_TrackMetricListIterator;
		PLTT_TrackMetrics_Type()
>>>>>>> .r3810
		{}
<<<<<<< .mine
		~PLTT_TrackAgentMetrics_Type()
=======
		~PLTT_TrackMetrics_Type()
>>>>>>> .r3810
		{}
<<<<<<< .mine
		void store_metrics_of_agent( node_id_t _tracker_id, node_id_t  _target_id )
=======
		//----------------------------------------------------------------------------------------------------
		PLTT_TrackAgentMetric* find_metrics_of_agent_of_tracker( node_id_t _tracker_id )
>>>>>>> .r3810
		{
<<<<<<< .mine
			for ( PLTT_TrackAgentMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
=======
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
>>>>>>> .r3810
			{
<<<<<<< .mine
				if  ( i->get_tracker_id() == _tr_id )
=======
				if  ( i->get_tracker_id() == _tracker_id )
>>>>>>> .r3810
				{
<<<<<<< .mine
					return;
				}
			}
			track_agent_metrics_list.push_back ( PLTT_TrackAgentMetric( _tracker_id, _target_id ) );
		}

		PLTT_TrackAgentMetric* find_metrics_of_agent_for_tracker( node_id_t _tracker_id )
		{
			for (PLTT_TrackAgentMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				if  ( i->get_tracker_id() == _tracker_id )
				{
=======
>>>>>>> .r3810
					return &(*i);
				}
			}
			return NULL;
		}
<<<<<<< .mine

		Integer get_messages_send_for_tracker( node_id_t _tracker_id )
=======
		//----------------------------------------------------------------------------------------------------
		Integer get_messages_send_of_tracker( node_id_t _tracker_id )
>>>>>>> .r3810
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->get_messages_send();
			}
		}
<<<<<<< .mine

		Integer get_messages_bytes_send_for_tracker( node_id_t _tracker_id )
=======
		//----------------------------------------------------------------------------------------------------
		Integer get_messages_bytes_send_of_tracker( node_id_t _tracker_id )
>>>>>>> .r3810
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->get_messages_bytes_send();
			}
		}
<<<<<<< .mine

		Integer get_query_messages_send_for_tracker( node_id_t _tracker_id )
=======
		//----------------------------------------------------------------------------------------------------
		Integer get_messages_received_of_tracker( node_id_t _tracker_id )
>>>>>>> .r3810
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
<<<<<<< .mine
				return p->get_query_messages_send();
=======
				return p->get_messages_received();
>>>>>>> .r3810
			}
		}
<<<<<<< .mine

		Integer get_query_messages_bytes_send_for_tracker( node_id_t _tracker_id )
=======
		//----------------------------------------------------------------------------------------------------
		Integer get_messages_bytes_received_of_tracker( node_id_t _tracker_id )
>>>>>>> .r3810
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
<<<<<<< .mine
				return p->get_query_messages_bytes_send();
=======
				return p->get_messages_bytes_received();
>>>>>>> .r3810
			}
		}
<<<<<<< .mine

		Integer get_report_messages_send_for_tracker( node_id_t _tracker_id )
=======
		//----------------------------------------------------------------------------------------------------
		Integer get_query_messages_send_of_tracker( node_id_t _tracker_id )
>>>>>>> .r3810
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
<<<<<<< .mine
				return p->get_report_messages_send();
=======
				return p->get_query_messages_send();
>>>>>>> .r3810
			}
		}
<<<<<<< .mine

		Integer get_report_messages_bytes_send_for_tracker( node_id_t _tracker_id )
=======
		//----------------------------------------------------------------------------------------------------
		Integer get_query_messages_bytes_send_of_tracker( node_id_t _tracker_id )
>>>>>>> .r3810
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
<<<<<<< .mine
				return p->get_report_messages_bytes_send();
=======
				return p->get_query_messages_bytes_send();
>>>>>>> .r3810
			}
		}
<<<<<<< .mine

		void  inc_report_messages_send( node_id_t _tracker_id )
=======
		//----------------------------------------------------------------------------------------------------
		Integer get_report_messages_send_of_tracker( node_id_t _tracker_id )
>>>>>>> .r3810
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
<<<<<<< .mine
				return p->inc_report_messages_send();
=======
				return p->get_report_messages_send();
>>>>>>> .r3810
			}
		}
<<<<<<< .mine

		void  inc_report_messages_bytes_send( node_id_t _tracker_id, Integer bytes_num )
=======
		//----------------------------------------------------------------------------------------------------
		Integer get_report_messages_bytes_send_of_tracker( node_id_t _tracker_id )
>>>>>>> .r3810
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
<<<<<<< .mine
				return p->inc_report_messages_bytes_send();
=======
				return p->get_report_messages_bytes_send();
>>>>>>> .r3810
			}
		}
<<<<<<< .mine

		void  inc_query_messages_send( node_id_t _tracker_id )
=======
		//----------------------------------------------------------------------------------------------------
		Integer get_query_messages_received_of_tracker( node_id_t _tracker_id )
>>>>>>> .r3810
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
<<<<<<< .mine
				return p->inc_query_messages_send();
=======
				return p->get_query_messages_received();
>>>>>>> .r3810
			}
		}
<<<<<<< .mine

		void  inc_query_messages_bytes_send( node_id_t _tracker_id )
=======
		//----------------------------------------------------------------------------------------------------
		Integer get_query_messages_bytes_received_of_tracker( node_id_t _tracker_id )
>>>>>>> .r3810
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
<<<<<<< .mine
				return p->inc_query_messages_bytes_send();
=======
				return p->get_query_messages_bytes_received_send();
>>>>>>> .r3810
			}
		}
<<<<<<< .mine

		PLTT_AgentMetricList track_agent_metric_list;
=======
		//----------------------------------------------------------------------------------------------------
		Integer get_report_messages_received_of_tracker( node_id_t _tracker_id )
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->get_report_messages_received();
			}
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_report_messages_bytes_received_of_tracker( node_id_t _tracker_id )
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->get_report_messages_bytes_received_send();
			}
		}
		//----------------------------------------------------------------------------------------------------
		void  inc_report_messages_send_of_tracker( node_id_t _tracker_id )
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->inc_report_messages_send();
			}
			else
			{
				track_agent_metric_list.push_back( PLTT_TrackAgentMetric( _tracker_id ) );
				PLTT_TrackMetricListIterator i = track_agent_metric_list.end() - 1;
				i->inc_report_messages_send();
			}
		}
		//----------------------------------------------------------------------------------------------------
		void  inc_report_messages_bytes_send_of_tracker( node_id_t _tracker_id, Integer _bytes_num )
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->inc_report_messages_bytes_send( _bytes_num );
			}
			else
			{
				track_agent_metric_list.push_back( PLTT_TrackAgentMetric( _tracker_id ) );
				PLTT_TrackMetricListIterator i = track_agent_metric_list.end() - 1;
				i->inc_report_messages_bytes_send( _bytes_num );
			}
		}
		//----------------------------------------------------------------------------------------------------
		void  inc_query_messages_send_of_tracker( node_id_t _tracker_id )
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->inc_query_messages_send();
			}
			else
			{
				track_agent_metric_list.push_back( PLTT_TrackAgentMetric( _tracker_id ) );
				PLTT_TrackMetricListIterator i = track_agent_metric_list.end() - 1;
				i->inc_query_messages_send();
			}
		}
		//----------------------------------------------------------------------------------------------------
		void  inc_query_messages_bytes_send_of_tracker( node_id_t _tracker_id, Integer _bytes_num )
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->inc_query_messages_bytes_received( _bytes_num );
			}
			else
			{
				track_agent_metric_list.push_back( PLTT_TrackAgentMetric( _tracker_id ) );
				PLTT_TrackMetricListIterator i = track_agent_metric_list.end() - 1;
				i->inc_query_messages_bytes_received( _bytes_num );
			}
		}
		//----------------------------------------------------------------------------------------------------
		void  inc_report_messages_received_of_tracker( node_id_t _tracker_id )
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->inc_report_messages_received();
			}
			else
			{
				track_agent_metric_list.push_back( PLTT_TrackAgentMetric( _tracker_id ) );
				PLTT_TrackMetricListIterator i = track_agent_metric_list.end() - 1;
				i->inc_report_messages_received();
			}
		}
		//----------------------------------------------------------------------------------------------------
		void  inc_report_messages_bytes_received_of_tracker( node_id_t _tracker_id, Integer _bytes_num )
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->inc_report_messages_bytes_received( _bytes_num );
			}
			else
			{
				track_agent_metric_list.push_back( PLTT_TrackAgentMetric( _tracker_id ) );
				PLTT_TrackMetricListIterator i = track_agent_metric_list.end() - 1;
				i->inc_report_messages_bytes_received( _bytes_num );
			}
		}
		//----------------------------------------------------------------------------------------------------
		void  inc_query_messages_received_of_tracker( node_id_t _tracker_id )
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->inc_query_messages_received();
			}
			else
			{
				track_agent_metric_list.push_back( PLTT_TrackAgentMetric( _tracker_id ) );
				PLTT_TrackMetricListIterator i = track_agent_metric_list.end() - 1;
				i->inc_query_messages_received();
			}
		}
		//----------------------------------------------------------------------------------------------------
		void  inc_query_messages_bytes_received_of_tracker( node_id_t _tracker_id, Integer _bytes_num )
		{
			PLTT_TrackAgentMetric* p = find_metrics_of_agent_for_tracker( _tracker_id );
			if ( p != NULL )
			{
				return p->inc_query_messages_bytes_received( _bytes_num );
			}
			else
			{
				track_agent_metric_list.push_back( PLTT_TrackAgentMetric( _tracker_id ) );
				PLTT_TrackMetricListIterator i = track_agent_metric_list.end() - 1;
				i->inc_query_messages_bytes_received( _bytes_num );
			}
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_messages_send( void )
		{
			Integer messages_send = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				messages_send = i->get_messages_send() + messages_send;
			}
			return messages_send;
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_messages_bytes_send( void )
		{
			Integer messages_bytes_send = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				messages_bytes_send = i->get_messages_bytes_send() + messages_bytes_send;
			}
			return messages_bytes_send;
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_messages_received( void )
		{
			Integer messages_received = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				messages_received = i->get_messages_received() + messages_received;
			}
			return messages_received;
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_messages_bytes_received( void )
		{
			Integer messages_bytes_received = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				messages_bytes_received = i->get_messages_bytes_received() + messages_bytes_received;
			}
			return messages_bytes_received;
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_report_messages_send( void )
		{
			Integer report_messages_send = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				report_messages_send = i->get_report_messages_send() + report_messages_send;
			}
			return report_messages_send;
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_report_messages_bytes_send( void )
		{
			Integer report_messages_bytes_send = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				report_messages_bytes_send = i->get_report_messages_bytes_send() + report_messages_bytes_send;
			}
			return report_messages_bytes_send;
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_report_messages_received( void )
		{
			Integer report_messages_received = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				report_messages_received = i->get_report_messages_received() + report_messages_received;
			}
			return report_messages_received;
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_report_messages_bytes_received( void )
		{
			Integer report_messages_bytes_received = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				report_messages_bytes_received = i->get_report_messages_bytes_received() + report_messages_bytes_received;
			}
			return report_messages_bytes_received;
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_query_messages_send( void )
		{
			Integer query_messages_send = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				query_messages_send = i->get_query_messages_send() + query_messages_send;
			}
			return query_messages_send;
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_query_messages_bytes_send( void )
		{
			Integer query_messages_bytes_send = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				query_messages_bytes_send = i->get_query_messages_bytes_send() + query_messages_bytes_send;
			}
			return query_messages_bytes_send;
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_query_messages_received( void )
		{
			Integer query_messages_received = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				query_messages_received = i->get_query_messages_received() + query_messages_received;
			}
			return query_messages_received;
		}
		//----------------------------------------------------------------------------------------------------
		Integer get_query_messages_bytes_received( void )
		{
			Integer query_messages_bytes_received = 0;
			for (PLTT_TrackMetricListIterator i = track_agent_metric_list.begin(); i != track_agent_metric_list.end(); ++i )
			{
				query_messages_bytes_received = i->get_query_messages_bytes_received() + query_messages_bytes_received;
			}
			return query_messages_bytes_received;
		}
		//----------------------------------------------------------------------------------------------------
		PLTT_TrackMetricList track_agent_metric_list;
>>>>>>> .r3810
	};
}
#endif
